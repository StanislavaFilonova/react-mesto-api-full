{"ast":null,"code":"import _slicedToArray from\"/Users/Stasya/Desktop/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import PopupWithForm from\"./PopupWithForm\";import CurrentUserContext from\"../contexts/CurrentUserContext\";//---------------------------------------------------------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var currentUser=React.useContext(CurrentUserContext);var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];function handleChangeName(evt){setName(evt.target.value);}function handleChangeDescription(evt){setDescription(evt.target.value);}React.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,props.isOpen]);function handleSubmit(evt){evt.preventDefault(evt);props.onUpdateUser({name:name,about:description});}//---------------------------------------------------------------------------------------------------------------------\nreturn/*#__PURE__*/_jsxs(PopupWithForm,{name:\"profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",button:\"profile\",buttonSubmitText:props.buttonSubmitText,isOpen:props.isOpen,onClose:props.onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{id:\"name-input\",type:\"text\",className:\"popup__input popup__input_type_name\",name:\"name\",placeholder:\"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\",minLength:\"2\",maxLength:\"40\",required:true,value:name||\"\",onChange:handleChangeName}),/*#__PURE__*/_jsx(\"span\",{id:\"name-input-error\",className:\"popup__input-error\"}),/*#__PURE__*/_jsx(\"input\",{id:\"occupation-input\",type:\"text\",className:\"popup__input popup__input_type_occupation\",name:\"occupation\",placeholder:\"\\u0412\\u0430\\u0448\\u0430 \\u043F\\u0440\\u043E\\u0444\\u0435\\u0441\\u0441\\u0438\\u044F\",minLength:\"2\",maxLength:\"200\",required:true,value:description||\"\",onChange:handleChangeDescription}),/*#__PURE__*/_jsx(\"span\",{id:\"occupation-input-error\",className:\"popup__input-error popup__input-error_active\"})]});}export default EditProfilePopup;","map":{"version":3,"sources":["/Users/Stasya/Desktop/dev/react-mesto-api-full/frontend/src/components/EditProfilePopup.js"],"names":["React","PopupWithForm","CurrentUserContext","EditProfilePopup","props","currentUser","useContext","useState","name","setName","description","setDescription","handleChangeName","evt","target","value","handleChangeDescription","useEffect","about","isOpen","handleSubmit","preventDefault","onUpdateUser","buttonSubmitText","onClose"],"mappings":"6IAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,kBAAP,KAA+B,gCAA/B,CAEA;wFAEA,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,CAC7B,GAAMC,CAAAA,WAAW,CAAGL,KAAK,CAACM,UAAN,CAAiBJ,kBAAjB,CAApB,CACA,oBAAwBF,KAAK,CAACO,QAAN,CAAe,EAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAAsCT,KAAK,CAACO,QAAN,CAAe,EAAf,CAAtC,qDAAOG,WAAP,qBAAoBC,cAApB,qBAEA,QAASC,CAAAA,gBAAT,CAA0BC,GAA1B,CAA+B,CAC3BJ,OAAO,CAACI,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAP,CACH,CAED,QAASC,CAAAA,uBAAT,CAAiCH,GAAjC,CAAsC,CAClCF,cAAc,CAACE,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAd,CACH,CAEDf,KAAK,CAACiB,SAAN,CAAgB,UAAM,CAClBR,OAAO,CAACJ,WAAW,CAACG,IAAb,CAAP,CACAG,cAAc,CAACN,WAAW,CAACa,KAAb,CAAd,CACH,CAHD,CAGG,CAACb,WAAD,CAAcD,KAAK,CAACe,MAApB,CAHH,EAKA,QAASC,CAAAA,YAAT,CAAsBP,GAAtB,CAA2B,CACvBA,GAAG,CAACQ,cAAJ,CAAmBR,GAAnB,EAEAT,KAAK,CAACkB,YAAN,CAAmB,CACfd,IAAI,CAAEA,IADS,CAEfU,KAAK,CAAER,WAFQ,CAAnB,EAIH,CAED;AAEA,mBACI,MAAC,aAAD,EACI,IAAI,CAAC,SADT,CAEI,KAAK,CAAC,2HAFV,CAGI,MAAM,CAAC,SAHX,CAII,gBAAgB,CAAEN,KAAK,CAACmB,gBAJ5B,CAKI,MAAM,CAAEnB,KAAK,CAACe,MALlB,CAMI,OAAO,CAAEf,KAAK,CAACoB,OANnB,CAOI,QAAQ,CAAEJ,YAPd,wBASI,cACI,EAAE,CAAC,YADP,CAEI,IAAI,CAAC,MAFT,CAGI,SAAS,CAAC,qCAHd,CAII,IAAI,CAAC,MAJT,CAKI,WAAW,CAAC,6CALhB,CAMI,SAAS,CAAC,GANd,CAOI,SAAS,CAAC,IAPd,CAQI,QAAQ,KARZ,CASI,KAAK,CAAEZ,IAAI,EAAI,EATnB,CAUI,QAAQ,CAAEI,gBAVd,EATJ,cAqBI,aAAM,EAAE,CAAC,kBAAT,CAA4B,SAAS,CAAC,oBAAtC,EArBJ,cAsBI,cACI,EAAE,CAAC,kBADP,CAEI,IAAI,CAAC,MAFT,CAGI,SAAS,CAAC,2CAHd,CAII,IAAI,CAAC,YAJT,CAKI,WAAW,CAAC,iFALhB,CAMI,SAAS,CAAC,GANd,CAOI,SAAS,CAAC,KAPd,CAQI,QAAQ,KARZ,CASI,KAAK,CAAEF,WAAW,EAAI,EAT1B,CAUI,QAAQ,CAAEM,uBAVd,EAtBJ,cAkCI,aACI,EAAE,CAAC,wBADP,CAEI,SAAS,CAAC,8CAFd,EAlCJ,GADJ,CAyCH,CAED,cAAeb,CAAAA,gBAAf","sourcesContent":["import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\n//---------------------------------------------------------------------------------------------------------------------\n\nfunction EditProfilePopup(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState(\"\");\n    const [description, setDescription] = React.useState(\"\");\n\n    function handleChangeName(evt) {\n        setName(evt.target.value);\n    }\n\n    function handleChangeDescription(evt) {\n        setDescription(evt.target.value);\n    }\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser, props.isOpen]);\n\n    function handleSubmit(evt) {\n        evt.preventDefault(evt);\n\n        props.onUpdateUser({\n            name: name,\n            about: description,\n        });\n    }\n\n    //---------------------------------------------------------------------------------------------------------------------\n\n    return (\n        <PopupWithForm\n            name=\"profile\"\n            title=\"Редактировать профиль\"\n            button=\"profile\"\n            buttonSubmitText={props.buttonSubmitText}\n            isOpen={props.isOpen}\n            onClose={props.onClose}\n            onSubmit={handleSubmit}\n        >\n            <input\n                id=\"name-input\"\n                type=\"text\"\n                className=\"popup__input popup__input_type_name\"\n                name=\"name\"\n                placeholder=\"Ваше имя\"\n                minLength=\"2\"\n                maxLength=\"40\"\n                required\n                value={name || \"\"}\n                onChange={handleChangeName}\n            />\n            <span id=\"name-input-error\" className=\"popup__input-error\"></span>\n            <input\n                id=\"occupation-input\"\n                type=\"text\"\n                className=\"popup__input popup__input_type_occupation\"\n                name=\"occupation\"\n                placeholder=\"Ваша профессия\"\n                minLength=\"2\"\n                maxLength=\"200\"\n                required\n                value={description || \"\"}\n                onChange={handleChangeDescription}\n            />\n            <span\n                id=\"occupation-input-error\"\n                className=\"popup__input-error popup__input-error_active\"\n            ></span>\n        </PopupWithForm>\n    );\n}\n\nexport default EditProfilePopup;\n"]},"metadata":{},"sourceType":"module"}